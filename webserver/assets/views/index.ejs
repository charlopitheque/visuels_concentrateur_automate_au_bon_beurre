<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Dashboard</title>
        <meta name="description" content="dashboard">
        <link rel="stylesheet" href="../static/css/main.css">
    </head>
    <body>
        <div>
            <form class="">
                <label for="unit-select">Choose a unit :</label>
                <select id="unit-select">
                    <option value="1">Unit 1</option>
                    <option value="2">Unit 2</option>
                    <option value="3">Unit 3</option>
                    <option value="4">Unit 4</option>
                    <option value="5">Unit 5</option>
                </select>
                <input id="switchUnit" type="button"/>
            </form>
        </div>
        <div style="width:75%;">
            <canvas id="canvas1"></canvas>
            <canvas id="canvas2"></canvas>
            <canvas id="canvas3"></canvas>
            <canvas id="canvas4"></canvas>
            <canvas id="canvas5"></canvas>
            <canvas id="canvas6"></canvas>
            <canvas id="canvas7"></canvas>
            <canvas id="canvas8"></canvas>
            <canvas id="canvas9"></canvas>
            <canvas id="canvas10"></canvas>
        </div>
        <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
        <script src="../static/js/views_scripts/index.js" type="module"></script>
        <script>
                

                /* document.getElementById('randomizeData').addEventListener('click', function() {
                    config.data.datasets.forEach(function(dataset) {
                        dataset.data = dataset.data.map(function() {
                            return randomScalingFactor();
                        });
        
                    });
        
                    window.myLine.update();
                }); */
        
               // var colorNames = Object.keys(window.chartColors);
                 document.getElementById('addDataset').addEventListener('click', function() {
                    var colorName = colorNames[config.data.datasets.length % colorNames.length];
                    var newColor = window.chartColors[colorName];
                    var newDataset = {
                        label: 'Dataset ' + config.data.datasets.length,
                        backgroundColor: newColor,
                        borderColor: newColor,
                        data: [],
                        fill: false
                    };
        
                    for (var index = 0; index < config.data.labels.length; ++index) {
                        newDataset.data.push(randomScalingFactor());
                    }
        
                    config.data.datasets.push(newDataset);
                    window.myLine.update();
                }); 
        
                 document.getElementById('addData').addEventListener('click', function() {
                    if (config.data.datasets.length > 0) {
                        var month = MONTHS[config.data.labels.length % MONTHS.length];
                        config.data.labels.push(month);
        
                        config.data.datasets.forEach(function(dataset) {
                            dataset.data.push(randomScalingFactor());
                        });
        
                        window.myLine.update();
                    }
                }); 
        
                /* document.getElementById('removeDataset').addEventListener('click', function() {
                    config.data.datasets.splice(0, 1);
                    window.myLine.update();
                }); 
        
                document.getElementById('removeData').addEventListener('click', function() {
                    config.data.labels.splice(-1, 1); // remove the label first
        
                    config.data.datasets.forEach(function(dataset) {
                        dataset.data.pop();
                    });
        
                    window.myLine.update();
                });*/
            </script>
    </body>
</html>